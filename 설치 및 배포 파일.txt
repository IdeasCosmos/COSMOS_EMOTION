# COSMOS EMOTION v2.0 - ì„¤ì¹˜ ë° ë°°í¬ íŒŒì¼

## ğŸ“¦ requirements.txt

```txt
# Core dependencies
numpy>=1.21.0
scipy>=1.7.0
matplotlib>=3.4.0
seaborn>=0.11.0

# Optional: í˜•íƒœì†Œ ë¶„ì„ (ë” ë†’ì€ ì •í™•ë„)
# konlpy>=0.6.0

# Optional: ì‹ ê²½ë§ í™•ì¥
# torch>=2.0.0
# transformers>=4.30.0

# API Server
fastapi>=0.100.0
uvicorn[standard]>=0.23.0
pydantic>=2.0.0

# Data processing
scikit-learn>=1.0.0
pandas>=1.3.0

# Testing
pytest>=7.0.0
pytest-cov>=3.0.0

# Development
black>=22.0.0
flake8>=5.0.0
mypy>=1.0.0
```

---

## ğŸ³ Dockerfile

```dockerfile
FROM python:3.10-slim

# ì‘ì—… ë””ë ‰í† ë¦¬
WORKDIR /app

# ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
RUN apt-get update && apt-get install -y \
    build-essential \
    && rm -rf /var/lib/apt/lists/*

# Python íŒ¨í‚¤ì§€ ì„¤ì¹˜
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬
COPY . .

# í¬íŠ¸ ë…¸ì¶œ
EXPOSE 8000

# í—¬ìŠ¤ì²´í¬
HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \
    CMD python -c "import requests; requests.get('http://localhost:8000/health')"

# ì‹¤í–‰
CMD ["uvicorn", "api_server:app", "--host", "0.0.0.0", "--port", "8000"]
```

---

## ğŸ™ docker-compose.yml

```yaml
version: '3.8'

services:
  cosmos-api:
    build: .
    container_name: cosmos-emotion-api
    ports:
      - "8000:8000"
    environment:
      - USE_KONLPY=false
      - FPS=25
      - PROPAGATION_ITERATIONS=2
    volumes:
      - ./data:/app/data
      - ./visualizations:/app/visualizations
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

  # Optional: Redis for caching
  redis:
    image: redis:7-alpine
    container_name: cosmos-redis
    ports:
      - "6379:6379"
    volumes:
      - redis-data:/data
    restart: unless-stopped

volumes:
  redis-data:
```

---

## âš™ï¸ config.yaml

```yaml
# COSMOS EMOTION ì„¤ì • íŒŒì¼

system:
  name: "COSMOS EMOTION v2.0"
  version: "2.0.0"
  
# ì—”ì§„ ì„¤ì •
engine:
  # í˜•íƒœì†Œ ë¶„ì„
  morpheme:
    use_konlpy: false  # KoNLPy ì‚¬ìš© ì—¬ë¶€
    fallback_to_rules: true
  
  # ì–‘ë°©í–¥ ì „íŒŒ
  propagation:
    iterations: 2
    up_transmission_ratio: 0.7
    down_decay_base: 0.9
  
  # ê³µëª… ì‹œìŠ¤í…œ
  resonance:
    # ì±„ë„ë³„ ê°€ì¤‘ì¹˜
    channel_weights:
      spectral: 1.0
      phase: 1.2
      harmonic: 1.5
      semantic: 1.1
      cross_layer: 1.8
    
    # ê°ì§€ ì„ê³„ê°’
    thresholds:
      min_repetitions: 3
      sync_threshold: 2.0
      similarity_threshold: 0.7
      min_layers: 3
  
  # Timeline
  timeline:
    default_fps: 25
    min_fps: 10
    max_fps: 60

# API ì„¤ì •
api:
  host: "0.0.0.0"
  port: 8000
  workers: 4
  
  # CORS
  cors:
    allow_origins: ["*"]
    allow_methods: ["*"]
    allow_headers: ["*"]
  
  # Rate limiting
  rate_limit:
    enabled: true
    requests_per_minute: 60
  
  # ë°°ì¹˜ ì²˜ë¦¬
  batch:
    max_size: 100
    timeout_seconds: 300

# ë¡œê¹…
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "cosmos.log"

# ì‹œê°í™”
visualization:
  dpi: 150
  figsize: [16, 12]
  style: "seaborn"
  save_format: "png"

# ì„±ëŠ¥
performance:
  cache_enabled: true
  cache_ttl_seconds: 300
  max_memory_mb: 1024
  
# ë°ì´í„°ì…‹
dataset:
  data_dir: "./data"
  cache_dir: "./cache"
  
  # ë¶„í•  ë¹„ìœ¨
  split:
    train: 0.7
    val: 0.15
    test: 0.15
  
  # ì „ì²˜ë¦¬
  preprocessing:
    max_length: 512
    remove_special_chars: false
    lowercase: false
```

---

## ğŸ”§ setup.py

```python
from setuptools import setup, find_packages

with open("README.md", "r", encoding="utf-8") as fh:
    long_description = fh.read()

with open("requirements.txt", "r", encoding="utf-8") as fh:
    requirements = [line.strip() for line in fh if line.strip() and not line.startswith("#")]

setup(
    name="cosmos-emotion",
    version="2.0.0",
    author="COSMOS EMOTION Team",
    author_email="cosmos.emotion@example.com",
    description="ì°¨ì„¸ëŒ€ ê°ì • ë¶„ì„ ì‹œìŠ¤í…œ - ìŒì•… ì´ë¡  + ì–‘ë°©í–¥ ì „íŒŒ + 5ì±„ë„ ê³µëª…",
    long_description=long_description,
    long_description_content_type="text/markdown",
    url="https://github.com/IdeasCosmos/COSMOS-EMOTION-v2",
    packages=find_packages(),
    classifiers=[
        "Development Status :: 4 - Beta",
        "Intended Audience :: Developers",
        "Intended Audience :: Science/Research",
        "Topic :: Scientific/Engineering :: Artificial Intelligence",
        "Topic :: Text Processing :: Linguistic",
        "License :: OSI Approved :: MIT License",
        "Programming Language :: Python :: 3",
        "Programming Language :: Python :: 3.8",
        "Programming Language :: Python :: 3.9",
        "Programming Language :: Python :: 3.10",
        "Programming Language :: Python :: 3.11",
    ],
    python_requires=">=3.8",
    install_requires=requirements,
    extras_require={
        "konlpy": ["konlpy>=0.6.0"],
        "neural": ["torch>=2.0.0", "transformers>=4.30.0"],
        "dev": ["pytest>=7.0.0", "black>=22.0.0", "flake8>=5.0.0"],
    },
    entry_points={
        "console_scripts": [
            "cosmos=main:main",
            "cosmos-api=api_server:main",
        ],
    },
)
```

---

## ğŸ“‹ install.sh

```bash
#!/bin/bash
# COSMOS EMOTION v2.0 ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸

echo "========================================"
echo "COSMOS EMOTION v2.0 ì„¤ì¹˜"
echo "========================================"
echo ""

# Python ë²„ì „ í™•ì¸
python_version=$(python3 --version 2>&1 | awk '{print $2}')
echo "Python ë²„ì „: $python_version"

if [[ $(echo $python_version | cut -d. -f1,2) < "3.8" ]]; then
    echo "âš ï¸  Python 3.8 ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤."
    exit 1
fi

# ê°€ìƒí™˜ê²½ ìƒì„±
echo ""
echo "[1/5] ê°€ìƒí™˜ê²½ ìƒì„±..."
python3 -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
echo "[2/5] ê°€ìƒí™˜ê²½ í™œì„±í™”..."
source venv/bin/activate

# íŒ¨í‚¤ì§€ ì—…ê·¸ë ˆì´ë“œ
echo "[3/5] pip ì—…ê·¸ë ˆì´ë“œ..."
pip install --upgrade pip

# íŒ¨í‚¤ì§€ ì„¤ì¹˜
echo "[4/5] íŒ¨í‚¤ì§€ ì„¤ì¹˜..."
pip install -r requirements.txt

# ì„ íƒì  íŒ¨í‚¤ì§€ ì„¤ì¹˜
echo ""
read -p "KoNLPyë¥¼ ì„¤ì¹˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ë” ë†’ì€ ì •í™•ë„) [y/N]: " install_konlpy
if [[ $install_konlpy =~ ^[Yy]$ ]]; then
    echo "KoNLPy ì„¤ì¹˜ ì¤‘..."
    pip install konlpy
    
    # macOSì˜ ê²½ìš°
    if [[ "$OSTYPE" == "darwin"* ]]; then
        echo "macOS ê°ì§€ - Java ì„¤ì¹˜ í™•ì¸..."
        if ! command -v java &> /dev/null; then
            echo "âš ï¸  Javaê°€ í•„ìš”í•©ë‹ˆë‹¤. Homebrewë¡œ ì„¤ì¹˜:"
            echo "    brew install openjdk@11"
        fi
    fi
fi

# í…ŒìŠ¤íŠ¸
echo ""
echo "[5/5] ì„¤ì¹˜ í™•ì¸..."
python3 -c "
try:
    import numpy
    import matplotlib
    import scipy
    print('âœ“ ê¸°ë³¸ íŒ¨í‚¤ì§€ ë¡œë“œ ì„±ê³µ')
except Exception as e:
    print(f'âš ï¸  íŒ¨í‚¤ì§€ ë¡œë“œ ì‹¤íŒ¨: {e}')
    exit(1)
"

# ì™„ë£Œ
echo ""
echo "========================================"
echo "âœ“ ì„¤ì¹˜ ì™„ë£Œ!"
echo "========================================"
echo ""
echo "ì‹¤í–‰ ë°©ë²•:"
echo "  1. ê°€ìƒí™˜ê²½ í™œì„±í™”:"
echo "     source venv/bin/activate"
echo ""
echo "  2. ë©”ì¸ í”„ë¡œê·¸ë¨ ì‹¤í–‰:"
echo "     python main.py"
echo ""
echo "  3. API ì„œë²„ ì‹¤í–‰:"
echo "     python api_server.py"
echo "     ë˜ëŠ”: uvicorn api_server:app --reload"
echo ""
echo "  4. ë„ì›€ë§:"
echo "     python main.py --help"
echo ""
```

---

## ğŸªŸ install.bat (Windows)

```batch
@echo off
REM COSMOS EMOTION v2.0 ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ (Windows)

echo ========================================
echo COSMOS EMOTION v2.0 ì„¤ì¹˜
echo ========================================
echo.

REM Python ë²„ì „ í™•ì¸
python --version
if %errorlevel% neq 0 (
    echo âš ï¸  Pythonì´ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.
    echo https://www.python.org/downloads/ ì—ì„œ ë‹¤ìš´ë¡œë“œ
    pause
    exit /b 1
)

REM ê°€ìƒí™˜ê²½ ìƒì„±
echo.
echo [1/5] ê°€ìƒí™˜ê²½ ìƒì„±...
python -m venv venv

REM ê°€ìƒí™˜ê²½ í™œì„±í™”
echo [2/5] ê°€ìƒí™˜ê²½ í™œì„±í™”...
call venv\Scripts\activate.bat

REM íŒ¨í‚¤ì§€ ì—…ê·¸ë ˆì´ë“œ
echo [3/5] pip ì—…ê·¸ë ˆì´ë“œ...
python -m pip install --upgrade pip

REM íŒ¨í‚¤ì§€ ì„¤ì¹˜
echo [4/5] íŒ¨í‚¤ì§€ ì„¤ì¹˜...
pip install -r requirements.txt

REM í…ŒìŠ¤íŠ¸
echo.
echo [5/5] ì„¤ì¹˜ í™•ì¸...
python -c "import numpy; import matplotlib; import scipy; print('âœ“ ì„¤ì¹˜ ì„±ê³µ')"

REM ì™„ë£Œ
echo.
echo ========================================
echo âœ“ ì„¤ì¹˜ ì™„ë£Œ!
echo ========================================
echo.
echo ì‹¤í–‰ ë°©ë²•:
echo   1. ê°€ìƒí™˜ê²½ í™œì„±í™”:
echo      venv\Scripts\activate.bat
echo.
echo   2. ë©”ì¸ í”„ë¡œê·¸ë¨ ì‹¤í–‰:
echo      python main.py
echo.
echo   3. API ì„œë²„ ì‹¤í–‰:
echo      python api_server.py
echo.
pause
```

---

## ğŸ§ª pytest.ini

```ini
[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

addopts = 
    -v
    --cov=.
    --cov-report=html
    --cov-report=term-missing
    --ignore=venv
    --ignore=.venv

markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests
```

---

## ğŸ¨ .gitignore

```
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST

# Virtual Environment
venv/
.venv/
ENV/
env/

# IDEs
.vscode/
.idea/
*.swp
*.swo
*~

# Testing
.pytest_cache/
.coverage
htmlcov/
.tox/

# Data
data/
*.csv
*.json
*.wav

# Visualizations
*.png
*.jpg
*.pdf
visualizations/

# Logs
*.log
logs/

# Cache
cache/
*.cache

# OS
.DS_Store
Thumbs.db

# Config (sensitive)
config.local.yaml
.env
```

---

## ğŸ“š Makefile

```makefile
.PHONY: help install test run api docker clean

help:
	@echo "COSMOS EMOTION v2.0 - ëª…ë ¹ì–´"
	@echo ""
	@echo "  make install    - íŒ¨í‚¤ì§€ ì„¤ì¹˜"
	@echo "  make test       - í…ŒìŠ¤íŠ¸ ì‹¤í–‰"
	@echo "  make run        - ë©”ì¸ í”„ë¡œê·¸ë¨ ì‹¤í–‰"
	@echo "  make api        - API ì„œë²„ ì‹¤í–‰"
	@echo "  make docker     - Docker ë¹Œë“œ ë° ì‹¤í–‰"
	@echo "  make clean      - ìºì‹œ ë° ì„ì‹œ íŒŒì¼ ì‚­ì œ"
	@echo ""

install:
	pip install -r requirements.txt

test:
	pytest tests/ -v --cov

run:
	python main.py

api:
	uvicorn api_server:app --reload --port 8000

docker:
	docker-compose up --build

clean:
	find . -type d -name __pycache__ -exec rm -rf {} +
	find . -type f -name "*.pyc" -delete
	find . -type f -name "*.pyo" -delete
	find . -type d -name "*.egg-info" -exec rm -rf {} +
	rm -rf build/ dist/ .pytest_cache/ .coverage htmlcov/
```

---

## ğŸš€ deploy.sh (í”„ë¡œë•ì…˜ ë°°í¬)

```bash
#!/bin/bash
# í”„ë¡œë•ì…˜ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸

echo "========================================"
echo "COSMOS EMOTION v2.0 í”„ë¡œë•ì…˜ ë°°í¬"
echo "========================================"
echo ""

# 1. ì½”ë“œ ì—…ë°ì´íŠ¸
echo "[1/6] Git Pull..."
git pull origin main

# 2. ì˜ì¡´ì„± ì—…ë°ì´íŠ¸
echo "[2/6] íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸..."
pip install -r requirements.txt --upgrade

# 3. í…ŒìŠ¤íŠ¸
echo "[3/6] í…ŒìŠ¤íŠ¸ ì‹¤í–‰..."
pytest tests/ -v
if [ $? -ne 0 ]; then
    echo "âš ï¸  í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨! ë°°í¬ ì¤‘ë‹¨."
    exit 1
fi

# 4. Docker ì´ë¯¸ì§€ ë¹Œë“œ
echo "[4/6] Docker ì´ë¯¸ì§€ ë¹Œë“œ..."
docker-compose build

# 5. ê¸°ì¡´ ì»¨í…Œì´ë„ˆ ì¤‘ì§€
echo "[5/6] ê¸°ì¡´ ì»¨í…Œì´ë„ˆ ì¤‘ì§€..."
docker-compose down

# 6. ìƒˆ ì»¨í…Œì´ë„ˆ ì‹œì‘
echo "[6/6] ìƒˆ ì»¨í…Œì´ë„ˆ ì‹œì‘..."
docker-compose up -d

# í—¬ìŠ¤ì²´í¬
echo ""
echo "í—¬ìŠ¤ì²´í¬ ëŒ€ê¸°..."
sleep 10

curl -f http://localhost:8000/health
if [ $? -eq 0 ]; then
    echo ""
    echo "âœ“ ë°°í¬ ì„±ê³µ!"
    echo "API: http://localhost:8000/docs"
else
    echo ""
    echo "âš ï¸  í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨!"
    docker-compose logs --tail=50
    exit 1
fi
```

---

ì´ì œ ëª¨ë“  ì„¤ì¹˜ ë° ë°°í¬ íŒŒì¼ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰

ê° íŒŒì¼ì˜ ì—­í• :
- **requirements.txt**: Python íŒ¨í‚¤ì§€ ì˜ì¡´ì„±
- **Dockerfile**: Docker ì»¨í…Œì´ë„ˆ ì„¤ì •
- **docker-compose.yml**: ë©€í‹° ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- **config.yaml**: ì‹œìŠ¤í…œ ì„¤ì •
- **setup.py**: Python íŒ¨í‚¤ì§€ ì„¤ì¹˜
- **install.sh/bat**: ì›í´ë¦­ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
- **pytest.ini**: í…ŒìŠ¤íŠ¸ ì„¤ì •
- **.gitignore**: Git ì œì™¸ íŒŒì¼
- **Makefile**: ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´
- **deploy.sh**: í”„ë¡œë•ì…˜ ë°°í¬ ìë™í™”
